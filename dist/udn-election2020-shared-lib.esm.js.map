{"version":3,"file":"udn-election2020-shared-lib.esm.js","sources":["../src/scripts/ga.js","../src/components/TheUdnLogo.vue","../node_modules/vue-runtime-helpers/dist/normalize-component.js","../src/components/SvgInlineResource.vue","../src/components/SvgSymbol.vue","../src/components/TheOverlay.vue","../src/components/TheSlideMenu.vue","../src/directives/lockscroll.js","../src/components/TheMenu.vue","../src/directives/inview.js","../src/filters/numeric.js","../src/filters/percentage.js","../src/lib.js"],"sourcesContent":["export const ga = function (...args) {\r\n  let debug = process.env.NODE_ENV !== 'production'\r\n  let status = !debug ? 'on' : 'off'\r\n  let params = args.map(arg => {\r\n    if (typeof arg === 'object') {\r\n      return '{ ' + Object.keys(arg).map(key => {\r\n        return `${key}: ${arg[key]}`\r\n      }).join(', ') + ' }'\r\n    }\r\n    return arg\r\n  })\r\n  if (!debug) {\r\n    window.ga && window.ga(...args)\r\n  }\r\n  console.log(`[GA ${status}] ga(${params.join(', ')})`)\r\n}\r\n\r\nexport default ga\r\n","<template>\r\n  <div class=\"the-udn-logo\"><!--\r\n  --><span class=\"the-udn-logo__text\">{{ title }}</span><!--\r\n  --><a class=\"the-udn-logo__link\" :href=\"link\" :title=\"title\" :target=\"target\"><!--\r\n    --><i class=\"udn-icon udn-icon-logo\" :style=\"iconStyle\"></i>\r\n    </a>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TheUdnLogo',\r\n  props: {\r\n    link: { type: String, default: '.' },\r\n    title: { type: String, default: '聯合報' },\r\n    target: { type: String, default: '_blank' },\r\n    color: { type: String, default: '#2E2E2E' }\r\n  },\r\n  computed: {\r\n    iconStyle () {\r\n      return {\r\n        color: this.color\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import url('https://udn.com/upf/newmedia/css/udn-font.css?v=1');\r\n\r\n.the-udn-logo {\r\n  // @include use-layer(&);\r\n  display: block;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  margin: 0;\r\n  padding: 10px;\r\n  text-align: center;\r\n  line-height: 1em;\r\n  @include use-vertical-align();\r\n\r\n  @include rwd($RWD_TABLET_SMALL) {\r\n    padding: 25px;\r\n  }\r\n\r\n  &__text {\r\n    display: none;\r\n  }\r\n\r\n  &__link {\r\n    display: inline-block;\r\n    text-decoration: none;\r\n    vertical-align: middle;\r\n    cursor: pointer;\r\n  }\r\n\r\n  i {\r\n    font-size: 2.125em;\r\n    margin: 0;\r\n\r\n    @include rwd($RWD_TABLET_SMALL) {\r\n      font-size: 3em;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","'use strict';\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier\n/* server only */\n, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n  if (typeof shadowMode !== 'boolean') {\n    createInjectorSSR = createInjector;\n    createInjector = shadowMode;\n    shadowMode = false;\n  } // Vue.extend constructor export interop.\n\n\n  var options = typeof script === 'function' ? script.options : script; // render functions\n\n  if (template && template.render) {\n    options.render = template.render;\n    options.staticRenderFns = template.staticRenderFns;\n    options._compiled = true; // functional template\n\n    if (isFunctionalTemplate) {\n      options.functional = true;\n    }\n  } // scopedId\n\n\n  if (scopeId) {\n    options._scopeId = scopeId;\n  }\n\n  var hook;\n\n  if (moduleIdentifier) {\n    // server build\n    hook = function hook(context) {\n      // 2.3 injection\n      context = context || // cached call\n      this.$vnode && this.$vnode.ssrContext || // stateful\n      this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext; // functional\n      // 2.2 with runInNewContext: true\n\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__;\n      } // inject component styles\n\n\n      if (style) {\n        style.call(this, createInjectorSSR(context));\n      } // register component module identifier for async chunk inference\n\n\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier);\n      }\n    }; // used by ssr in case component is cached and beforeCreate\n    // never gets called\n\n\n    options._ssrRegister = hook;\n  } else if (style) {\n    hook = shadowMode ? function () {\n      style.call(this, createInjectorShadow(this.$root.$options.shadowRoot));\n    } : function (context) {\n      style.call(this, createInjector(context));\n    };\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // register for functional component in vue file\n      var originalRender = options.render;\n\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context);\n        return originalRender(h, context);\n      };\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate;\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n    }\n  }\n\n  return script;\n}\n\nmodule.exports = normalizeComponent;\n//# sourceMappingURL=normalize-component.js.map\n","<template>\r\n  <svg version=\"1.1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    width=\"0\"\r\n    height=\"0\"\r\n    class=\"svg-inline-resource\">\r\n\r\n    <!-- spinner.svg -->\r\n    <symbol id=\"spinner\" viewBox=\"0 0 50 50\">\r\n      <g>\r\n        <path d=\"M25.251 6.461c-10.318 0-18.683 8.365-18.683 18.683h4.068c0-8.071 6.543-14.615 14.615-14.615V6.461z\">\r\n          <animateTransform attributeType=\"xml\" attributeName=\"transform\" type=\"rotate\" from=\"0 25 25\" to=\"360 25 25\" dur=\"0.4s\" repeatCount=\"indefinite\"/>\r\n        </path>\r\n      </g>\r\n    </symbol>\r\n\r\n    <!-- from material-close.svg -->\r\n    <symbol id=\"close\" viewBox=\"0 0 24 24\">\r\n      <g>\r\n        <path d=\"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\"/>\r\n        <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n      </g>\r\n    </symbol>\r\n\r\n    <!-- from clear.svg -->\r\n    <symbol id=\"clear\" viewBox=\"0 0 24 24\">\r\n      <g>\r\n        <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"/>\r\n        <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n      </g>\r\n    </symbol>\r\n\r\n    <!-- from material-info.svg -->\r\n    <symbol id=\"info\" viewBox=\"0 0 24 24\">\r\n      <g>\r\n        <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n        <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z\"/>\r\n      </g>\r\n    </symbol>\r\n\r\n    <!-- from material-menu.svg -->\r\n    <symbol id=\"hamburger\" viewBox=\"0 0 24 24\">\r\n      <g>\r\n        <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\r\n        <path d=\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\"/>\r\n      </g>\r\n    </symbol>\r\n\r\n    <!-- from material-pdf.svg -->\r\n    <symbol id=\"pdf\" viewBox=\"0 0 24 24\">\r\n      <g>\r\n        <path fill=\"none\" d=\"M0 0h24v24H0z\"/>\r\n        <path d=\"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z\"/>\r\n      </g>\r\n    </symbol>\r\n\r\n    <!-- from fb-share-icon.svg -->\r\n    <symbol id=\"facebook\" viewBox=\"0 0 63.5 63.5\">\r\n      <g>\r\n        <path d=\"M34.07,46.75V33.07h4.6l.68-5.34H34.07v-3.4c0-1.55.43-2.6,2.65-2.6h2.82V17a36.38,36.38,0,0,0-4.11-.21c-4.08,0-6.87,2.49-6.87,7.05v3.93H24v5.34h4.6V46.75Z\"/>\r\n      </g>\r\n    </symbol>\r\n\r\n    <!-- from line-share-icon.svg -->\r\n    <symbol id=\"line\" viewBox=\"0 0 36 36.5\">\r\n      <g>\r\n        <path d=\"M6.67,22.89h3.81a1,1,0,0,0,1-1v-.08a1,1,0,0,0-1-1H7.74V14.58a1,1,0,0,0-1-1H6.67a1,1,0,0,0-1,1V21.9A1,1,0,0,0,6.67,22.89ZM30.32,18.3v-.08a1,1,0,0,0-1-1H26.58V15.67h2.75a1,1,0,0,0,1-1V14.6a1,1,0,0,0-1-1H25.52a1,1,0,0,0-1,1v7.32a1,1,0,0,0,1,1h3.81a1,1,0,0,0,1-1v-.08a1,1,0,0,0-1-1H26.58V19.29h2.75a1,1,0,0,0,1-1ZM23,22.59h0a1,1,0,0,0,.28-.69V14.58a1,1,0,0,0-1-1H22.2a1,1,0,0,0-1,1v4.3l-3.57-4.79a1,1,0,0,0-.86-.5H16.7a1,1,0,0,0-1,1V21.9a1,1,0,0,0,1,1h.08a1,1,0,0,0,1-1V17.52l3.59,4.91.08.1h0a.75.75,0,0,0,.38.28,1,1,0,0,0,.38.08h.08a.93.93,0,0,0,.46-.12.55.55,0,0,0,.24-.18Zm-9.72.3h.08a1,1,0,0,0,1-1V14.58a1,1,0,0,0-1-1h-.08a1,1,0,0,0-1,1V21.9a1,1,0,0,0,1,1Z\"/>\r\n      </g>\r\n    </symbol>\r\n\r\n    <!-- from menu-title-bg.svg -->\r\n    <symbol id=\"slide-menu-title-bg\" viewBox=\"0 0 159 38\">\r\n      <g>\r\n        <path fill=\"#dddddd\" fill-rule=\"evenodd\" d=\"M12,6H141l18,32H12V6Z\"/>\r\n        <path fill=\"#aaaaaa\" fill-rule=\"evenodd\" d=\"M0,0H129l18,32H0V0Z\"/>\r\n      </g>\r\n    </symbol>\r\n\r\n    <!-- from .svg -->\r\n    <!-- <symbol id=\"\" viewBox=\"0 0 100 100\">\r\n    </symbol> -->\r\n\r\n    <slot/>\r\n\r\n  </svg>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'SvgInlineResource'\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.svg-inline-resource {\r\n  position: fixed;\r\n  width: 0;\r\n  height: 0;\r\n  opacity: 0;\r\n  overflow: hidden;\r\n  transform: scale(0);\r\n  pointer-events: none;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"svg-symbol\">\r\n    <svg>\r\n      <g>\r\n        <use :xlink:href=\"use\"></use>\r\n      </g>\r\n    </svg>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'SvgSymbol',\r\n  props: {\r\n    use: { typs: String, required: true }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.svg-symbol {\r\n  width: 100%;\r\n  height: 100%;\r\n  color: inherit;\r\n  user-select: none;\r\n\r\n  svg {\r\n    display: block;\r\n    width: 100%;\r\n    height: 100%;\r\n    fill: currentColor;\r\n    overflow: hidden;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <transition name=\"the-overlay\">\r\n    <div class=\"the-overlay the-overlay-enter\" v-if=\"isVisible\" @click.prevent.stop=\"onClick\"></div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TheOverlay',\r\n  props: {\r\n    visible: Boolean\r\n  },\r\n  computed: {\r\n    isVisible () {\r\n      return this.visible\r\n    }\r\n  },\r\n  methods: {\r\n    onClick () {\r\n      this.$emit('click')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.the-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  &:before {\r\n    content: \"\";\r\n    display: block;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, 0.6);\r\n  }\r\n\r\n  &--visible {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n.the-overlay-enter {\r\n  opacity: 0;\r\n}\r\n.the-overlay-enter-active {\r\n  transition: opacity 0.4s;\r\n}\r\n.the-overlay-enter-to {\r\n  opacity: 1;\r\n}\r\n.the-overlay-leave {\r\n  opacity: 1;\r\n}\r\n.the-overlay-leave-active {\r\n  transition: opacity 0.4s;\r\n}\r\n.the-overlay-leave-to {\r\n  opacity: 0;\r\n}\r\n</style>\r\n","<template>\r\n  <transition name=\"the-slide-menu\">\r\n    <div class=\"the-slide-menu\" v-show=\"opened\">\r\n      <div class=\"the-slide-menu__head\">\r\n        <div class=\"the-slide-menu__title\">\r\n          <SvgSymbol class=\"the-slide-menu__title-bg\" use=\"#slide-menu-title-bg\"/>\r\n          <div class=\"the-slide-menu__title-text\">看懂2020</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"the-slide-menu__body\">\r\n        <ul class=\"the-slide-menu__link-list\">\r\n          <li class=\"the-slide-menu__link-item\" v-for=\"item in data\" :key=\"`${item.project}${item.title}${item.url}`\">\r\n            <a class=\"the-slide-menu__link-btn\"\r\n              :class=\"{ 'the-slide-menu__link-btn--active': item.project === activeId }\"\r\n              :href=\"item.url\"\r\n              :title=\"item.title\"\r\n              :target=\"item.project === activeId ? '_self' : '_blank'\"><!--\r\n            --><span class=\"the-slide-menu__link-label\">{{ item.title }}</span>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport SvgSymbol from './SvgSymbol'\r\n\r\nconst SLIDE_MENU_API = 'https://udn.com/newmedia/election2020/menu/menu.php'\r\n\r\nexport default {\r\n  name: 'TheSlideMenu',\r\n  components: {\r\n    SvgSymbol\r\n  },\r\n  props: {\r\n    activeId: { type: String, required: true },\r\n    opened: { type: Boolean, required: true }\r\n  },\r\n  data () {\r\n    return {\r\n      xhr: null,\r\n      data: []\r\n    }\r\n  },\r\n  methods: {\r\n    onRequestStateChange (event) {\r\n      if (this.xhr.readyState === XMLHttpRequest.DONE) {\r\n        if (this.xhr.status !== 200) {\r\n          console.warn(`[TheSlideMenu] request failed. status code=${this.xhr.status} text=\"${this.xhr.statusText}\"`)\r\n          return\r\n        }\r\n        let data = []\r\n        try {\r\n          data = JSON.parse(this.xhr.responseText)\r\n        } catch (err) {\r\n          console.warn(`[TheSlideMenu] request failed of JSON.parse error`)\r\n          console.warn(err)\r\n        }\r\n        this.data = [ ...data ]\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.xhr = new XMLHttpRequest()\r\n    this.xhr.addEventListener('readystatechange', this.onRequestStateChange)\r\n    this.xhr.open('GET', SLIDE_MENU_API)\r\n    this.xhr.send()\r\n  },\r\n  mounted () {\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.the-slide-menu {\r\n  // @include use-layer(&);\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  width: 80%;\r\n  max-width: 280px;\r\n  height: 100%;\r\n  text-align: left;\r\n  background: white;\r\n  box-shadow: -4px 0 8px -6px rgba(0, 0, 0, 0.4);\r\n  backface-visibility: hidden;\r\n\r\n  &__head {\r\n    position: relative;\r\n    padding-top: 100px;\r\n  }\r\n\r\n  &__body {\r\n    position: absolute;\r\n    top: (138px + 20px);\r\n    bottom: 0;\r\n    width: 100%;\r\n    overflow: auto;\r\n  }\r\n\r\n  &__title {\r\n    position: relative;\r\n    width: 159px;\r\n    height: 38px;\r\n    @include use-fixed-ratio(159, 38);\r\n\r\n    &-bg {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n\r\n    &-text {\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      color: white;\r\n      font-family: \"Montserrat\", \"Noto Sans TC\", sans-serif;\r\n      text-indent: 1.75em;\r\n      letter-spacing: 0.1em;\r\n      line-height: 32px;\r\n    }\r\n  }\r\n\r\n  &__link-list {\r\n    list-style: none;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n\r\n  &__link-item {\r\n\r\n  }\r\n\r\n  &__link-btn {\r\n    display: block;\r\n    position: relative;\r\n    width: 100%;\r\n    padding: 12px 0;\r\n\r\n    &:after {\r\n      content: \"\";\r\n      display: block;\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 0;\r\n      width: 40px;\r\n      height: 5px;\r\n      background: #dddddd;\r\n      transform: translateY(-50%);\r\n    }\r\n\r\n    &:active {\r\n      padding: 13px 0 11px 0;\r\n    }\r\n  }\r\n\r\n  &__link-label {\r\n    display: inline-block;\r\n    margin-left: 52px;\r\n    color: #999999;\r\n    font-size: 1.125em;\r\n  }\r\n\r\n  &__link-btn--active {\r\n    &:after {\r\n      background: black;\r\n    }\r\n\r\n    .the-slide-menu__link-label {\r\n      color: #1a1a1a;\r\n    }\r\n  }\r\n\r\n  // vue transition\r\n  &-enter-active,\r\n  &-leave-active {\r\n    transition: transform 0.35s;\r\n  }\r\n  &-enter,\r\n  &-leave-to {\r\n    transform: translateX(100%);\r\n  }\r\n  &-enter-to,\r\n  &-leave {\r\n    transform: translateX(0);\r\n  }\r\n}\r\n\r\n.desktop {\r\n  $comp: \".the-slide-menu\";\r\n\r\n  #{$comp} {\r\n    &__link-btn {\r\n      &:hover {\r\n        &:after {\r\n          background: black;\r\n          transition: background 0.3s;\r\n        }\r\n\r\n        #{$comp}__link-label {\r\n          color: #1a1a1a;\r\n          transition: color 0.3s;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","let isLocked = false\r\nlet pageYOffsetBeforeLocked = 0\r\n\r\nfunction lockScroll (bool = true) {\r\n  let body = document.body\r\n  if (isLocked === bool) {\r\n    return\r\n  }\r\n  isLocked = bool\r\n  if (!isLocked) {\r\n    body.style.position = ''\r\n    body.style.overflow = ''\r\n    body.style.top = ''\r\n    body.style.width = ''\r\n    window.scrollTo(0, pageYOffsetBeforeLocked)\r\n    pageYOffsetBeforeLocked = 0\r\n  } else {\r\n    pageYOffsetBeforeLocked = window.pageYOffset\r\n    body.style.position = 'fixed'\r\n    body.style.overflow = 'hidden'\r\n    body.style.top = `${-pageYOffsetBeforeLocked}px`\r\n    body.style.width = '100%'\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'lockscroll',\r\n  bind (el, binding, vnode, oldVnode) {\r\n    // [bind hook]\r\n    lockScroll(binding.value)\r\n  },\r\n  inserted (el, binding, vnode, oldVnode) {\r\n    // [inserted hook]\r\n  },\r\n  update (el, binding, vnode, oldVnode) {\r\n    // [update hook]\r\n  },\r\n  componentUpdated (el, binding, vnode, oldVnode) {\r\n    // [componentUpdated hook]\r\n    lockScroll(binding.value)\r\n  },\r\n  unbind (el, binding, vnode, oldVnode) {\r\n    // [unbind hook]\r\n    lockScroll(false)\r\n  }\r\n}\r\n","<template>\r\n  <div class=\"the-menu\" v-lockscroll=\"isSlideMenuOpened\">\r\n    <SvgInlineResource/>\r\n    <TheOverlay :visible=\"isSlideMenuOpened\" @click=\"onOverlayClick\"/>\r\n    <TheSlideMenu :opened=\"isSlideMenuOpened\" :active-id=\"projectId\"/>\r\n    <menu class=\"the-menu__list\">\r\n      <menuitem class=\"the-menu__item the-menu__item--hamburger\">\r\n        <button class=\"the-menu__btn the-menu__btn--hamburger\" :style=\"btnHamburgerStyle\" title=\"選單\" @click.prevent=\"onHamburgerClick\"><!--\r\n        --><div class=\"the-menu__icon the-menu__icon--hamburger\" :class=\"iconHamburgerClassName\"></div>\r\n        </button>\r\n      </menuitem>\r\n      <menuitem class=\"the-menu__item the-menu__item--facebook\">\r\n        <button class=\"the-menu__btn the-menu__btn--facebook\" title=\"透過 Facebook 分享\" @click.prevent=\"onShareFacebook\"><!--\r\n        --><SvgSymbol class=\"the-menu__icon the-menu__icon--facebook\" use=\"#facebook\"/>\r\n        </button>\r\n      </menuitem>\r\n      <menuitem class=\"the-menu__item the-menu__item--line\">\r\n        <a class=\"the-menu__btn the-menu__btn--line\" title=\"透過 LINE 分享\" :target=\"lineSharedTarget\" :href=\"lineSharedUrl\" @click=\"onShareToLine\"><!--\r\n        --><SvgSymbol class=\"the-menu__icon the-menu__icon--line\" use=\"#line\"/>\r\n        </a>\r\n      </menuitem>\r\n    </menu>\r\n    <small class=\"the-menu__title\">{{ title }}</small>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SvgInlineResource from './SvgInlineResource'\r\nimport SvgSymbol from './SvgSymbol'\r\nimport TheOverlay from './TheOverlay'\r\nimport TheSlideMenu from './TheSlideMenu'\r\nimport lockscroll from '../directives/lockscroll'\r\n\r\nexport default {\r\n  name: 'TheMenu',\r\n  components: {\r\n    SvgInlineResource,\r\n    SvgSymbol,\r\n    TheOverlay,\r\n    TheSlideMenu\r\n  },\r\n  directives: {\r\n    lockscroll\r\n  },\r\n  props: {\r\n    projectId: { type: String, required: true },\r\n    projectUrl: { type: String, required: true },\r\n    shareUrl: { type: String, default: '' },\r\n    shareText: { type: String, default: '' },\r\n    title: { type: String, default: '' },\r\n    hamburgerColor: { type: String }\r\n  },\r\n  data () {\r\n    const isMobile = this.$device.mobile()\r\n    const isInApp = this.$inApp.isInApp\r\n    const runtimeDomains = [\r\n      'udn.com',\r\n      'newmedia.udn.com.tw',\r\n      'localhost'\r\n    ]\r\n    return {\r\n      isMobile,\r\n      isInApp,\r\n      runtimeDomains,\r\n      isHamburgerClicked: false,\r\n      isSlideMenuOpened: false,\r\n      socailSharedUrl: '',\r\n      socailSharedText: ''\r\n    }\r\n  },\r\n  computed: {\r\n    btnHamburgerStyle () {\r\n      if (!this.hamburgerColor) {\r\n        return {}\r\n      }\r\n      return {\r\n        'background-color': this.hamburgerColor,\r\n        'border': `1px solid ${this.hamburgerColor}`\r\n      }\r\n    },\r\n    iconHamburgerClassName () {\r\n      return {\r\n        'the-menu__icon--hamburger-no-animation': !this.isHamburgerClicked,\r\n        'the-menu__icon--hamburger-close': this.isSlideMenuOpened\r\n      }\r\n    },\r\n    lineSharedUrl () {\r\n      // desktop\r\n      if (!this.isMobile) {\r\n        return `https://social-plugins.line.me/lineit/share?text=${encodeURIComponent(this.socailSharedText)}&url=${encodeURIComponent(this.socailSharedUrl)}`\r\n      }\r\n      // mobile\r\n      if (!this.isInApp) {\r\n        return `https://line.naver.jp/R/msg/text/?${encodeURIComponent(this.socailSharedText)}%0D%0A${encodeURIComponent(this.socailSharedUrl)}`\r\n      }\r\n      // mobile in-app webview\r\n      return `https://line.naver.jp/R/msg/text/?${encodeURIComponent(this.socailSharedText)}%0D%0A${encodeURIComponent(this.socailSharedUrl)}`\r\n    },\r\n    lineSharedTarget () {\r\n      if (!this.isMobile) {\r\n        return '_blank'\r\n      }\r\n      return '_self'\r\n    }\r\n  },\r\n  watch: {\r\n    $route: {\r\n      // immediate: true,\r\n      handler (value, lastValue) {\r\n        this.updateSharedInfo()\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    onHamburgerClick (event) {\r\n      this.isHamburgerClicked = true\r\n      this.isSlideMenuOpened = !this.isSlideMenuOpened\r\n      this.$ga('newmedia.send', {\r\n        'hitType': 'event',\r\n        'eventCategory': 'Menu',\r\n        'eventAction': 'Click',\r\n        'eventLabel': 'Click_Menu'\r\n      })\r\n      console.log(`@${this.$options.name} [hamburgerClick]`)\r\n    },\r\n    onShareToLine () {\r\n      console.log(`@${this.$options.name} [shareToLine]`, this.socailSharedUrl, this.socailSharedText)\r\n      this.$ga('newmedia.send', {\r\n        'hitType': 'event',\r\n        'eventCategory': 'Share',\r\n        'eventAction': 'Click',\r\n        'eventLabel': 'Click_Line'\r\n      })\r\n    },\r\n    onShareFacebook () {\r\n      console.log(`@${this.$options.name} [shareToFacebook]`, this.socailSharedUrl, this.socailSharedText)\r\n      this.$ga('newmedia.send', {\r\n        'hitType': 'event',\r\n        'eventCategory': 'Share',\r\n        'eventAction': 'Click',\r\n        'eventLabel': 'Click_FB'\r\n      })\r\n      this.shareToFacebook(null)\r\n    },\r\n    onOverlayClick () {\r\n      this.isSlideMenuOpened = !this.isSlideMenuOpened\r\n    },\r\n    updateSharedInfo () {\r\n      const { host, hostname, pathname } = window.location\r\n      let url = this.shareUrl\r\n      let text = this.shareText\r\n      // there is no specific shareUrl property\r\n      if (!url) {\r\n        if (this.$route && this.$router && this.$router.options.mode === 'history') {\r\n          // inferred from vue-router\r\n          console.log(`@${this.$options.name} [shared url] inferred from \"vue-router\"`)\r\n          url = `${this.projectUrl.replace(/\\/$/, '')}${this.$route.path}`\r\n          if (this.runtimeDomains.indexOf(hostname) !== -1) {\r\n            let segments = url.replace(/^https?:\\/\\//, '').split('/')\r\n            segments.shift()\r\n            segments.unshift(host)\r\n            url = `https://${segments.join('/')}`\r\n          }\r\n        } else {\r\n          // inferred from runtime location or projectUrl\r\n          if (this.runtimeDomains.indexOf(hostname) !== -1) {\r\n            console.log(`@${this.$options.name} [shared url] inferred from runtime \"location\"`)\r\n            url = `https://${host}${pathname}`\r\n          } else {\r\n            console.log(`@${this.$options.name} [shared url] inferred from property \"project-url\"`)\r\n            url = this.projectUrl\r\n          }\r\n        }\r\n        text = document.title\r\n      } else {\r\n        console.log(`@${this.$options.name} [shared url] inferred from property \"share-url\"`)\r\n      }\r\n      this.socailSharedUrl = url\r\n      this.socailSharedText = text\r\n    },\r\n    shareToFacebook (url = '') {\r\n      let socailSharedUrl = (url || this.socailSharedUrl).replace(/^http:\\/\\//, 'https://')\r\n      let fbShareConfig = {\r\n        method: 'share',\r\n        display: 'popup',\r\n        href: socailSharedUrl\r\n      }\r\n      window.FB && window.FB.ui(fbShareConfig)\r\n    }\r\n  },\r\n  mounted () {\r\n    this.updateSharedInfo()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import url('https://fonts.googleapis.com/css?family=Montserrat:400,500,600,700|Noto+Sans+TC:400,500,700&display=swap');\r\n\r\nhtml, body {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n*, *:before, *:after {\r\n  box-sizing: border-box;\r\n}\r\n\r\n.the-menu {\r\n  $btn-size: 36px;\r\n  // @include use-layer(&);\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  padding: 10px 15px;\r\n  font: normal 100%/150% \"Montserrat\", \"Noto Sans TC\", sans-serif;\r\n  @include rwd($RWD_TABLET) {\r\n    position: fixed;\r\n    width: 70px;\r\n    height: 100%;\r\n    padding: 25px 0px;\r\n    background: white;\r\n    border-left: 1px solid #1a1a1a;\r\n  }\r\n\r\n  .the-overlay {\r\n    z-index: 1;\r\n  }\r\n\r\n  .the-slide-menu {\r\n    z-index: 2;\r\n  }\r\n\r\n  &__list {\r\n    list-style: none;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n\r\n  &__item {\r\n    display: block;\r\n    position: relative;\r\n    height: $btn-size;\r\n    @include rwd($RWD_TABLET) {\r\n      height: auto;\r\n    }\r\n\r\n    & + & {\r\n      margin-top: 14px;\r\n      @include rwd($RWD_TABLET) {\r\n        margin-top: 22px;\r\n      }\r\n    }\r\n  }\r\n\r\n  &__btn {\r\n    display: block;\r\n    width: $btn-size;\r\n    height: $btn-size;\r\n    margin: 0;\r\n    padding: 0;\r\n    color: inherit;\r\n    text-decoration: none;\r\n    background: #222222;\r\n    border: 1px solid #222222;\r\n    border-radius: 50%;\r\n    outline: none;\r\n    text-align: center;\r\n    overflow: hidden;\r\n    cursor: pointer;\r\n    @include use-vertical-align();\r\n    @include rwd($RWD_TABLET) {\r\n      margin: 0 auto;\r\n    }\r\n\r\n    &:active {\r\n      transform: translateY(1px);\r\n    }\r\n\r\n    &--hamburger {\r\n      z-index: 3;\r\n      position: fixed;\r\n      top: 10px;\r\n      right: 15px;\r\n      overflow: visible;\r\n      @include rwd($RWD_TABLET) {\r\n        position: relative;\r\n        top: auto;\r\n        right: auto;\r\n      }\r\n    }\r\n\r\n    &--facebook {\r\n    }\r\n\r\n    &--line {\r\n    }\r\n  }\r\n\r\n  &__icon {\r\n    display: inline-block;\r\n    position: relative;\r\n\r\n    &.svg-symbol {\r\n      color: white\r\n    }\r\n\r\n    // &--hamburger.svg-symbol {\r\n    //   width: 20px;\r\n    // }\r\n\r\n    @keyframes hamburger {\r\n      0% { transform: rotate(45deg); }\r\n      50% { transform: rotate(0); }\r\n      100% { transform: rotate(0); }\r\n    }\r\n    @keyframes hamburger-top {\r\n      0% { transform: translateY(0) rotate(0); }\r\n      50% { transform: translateY(0) rotate(0); }\r\n      100% { transform: translateY(-200%) rotate(0); }\r\n    }\r\n    @keyframes hamburger-bottom {\r\n      0% { transform: translateY(0) rotate(-90deg); }\r\n      50% { transform: translateY(0) rotate(0); }\r\n      100% { transform: translateY(200%) rotate(0); }\r\n    }\r\n\r\n    &--hamburger {\r\n      display: inline-block;\r\n      position: relative;\r\n      width: 15px;\r\n      height: 2px;\r\n      background: white;\r\n      vertical-align: middle;\r\n      animation: hamburger 0.3s forwards;\r\n\r\n      &:before,\r\n      &:after {\r\n        content: \"\";\r\n        display: block;\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        background: inherit;\r\n        transform-origin: center center;\r\n      }\r\n\r\n      &:before {\r\n        transform: translateY(-200%);\r\n        animation: hamburger-top 0.3s forwards;\r\n      }\r\n\r\n      &:after {\r\n        transform: translateY(200%);\r\n        animation: hamburger-bottom 0.3s forwards;\r\n      }\r\n\r\n      &-no-animation {\r\n        animation-duration: 0s !important;\r\n\r\n        &:before,\r\n        &:after {\r\n          animation-duration: 0s !important;\r\n        }\r\n      }\r\n    }\r\n\r\n    @keyframes close {\r\n      0% { transform: rotate(0); }\r\n      50% { transform: rotate(0); }\r\n      100% { transform: translateY(0) rotate(45deg); }\r\n    }\r\n    @keyframes close-left {\r\n      0% { transform: translateY(-200%) rotate(0); }\r\n      50% { transform: translateY(0) rotate(0); }\r\n      100% { transform: translateY(0) rotate(0); }\r\n    }\r\n    @keyframes close-right {\r\n      0% { transform: translateY(-200%) rotate(0); }\r\n      50% { transform: translateY(0) rotate(0); }\r\n      100% { transform: translateY(0) rotate(-90deg); }\r\n    }\r\n\r\n    &--hamburger-close {\r\n      animation: close 0.3s forwards;\r\n\r\n      &:before {\r\n        animation: close-left 0.3s forwards;\r\n      }\r\n\r\n      &:after {\r\n        animation: close-right 0.3s forwards;\r\n      }\r\n    }\r\n\r\n    &--facebook.svg-symbol {\r\n    }\r\n\r\n    &--line.svg-symbol {\r\n    }\r\n  }\r\n\r\n  &__title {\r\n    display: none;\r\n\r\n    @include rwd($RWD_TABLET) {\r\n      display: block;\r\n      position: absolute;\r\n      bottom: 50px;\r\n      left: 50%;\r\n      color: #1a1a1a;\r\n      font-size: 0.9375em;\r\n      white-space: nowrap;\r\n      transform-origin: right center;\r\n      transform: translate(-100%, 0) rotate(90deg);\r\n    }\r\n  }\r\n}\r\n</style>\r\n","const isIntersectionSupported = typeof window.IntersectionObserver !== 'undefined'\r\nif (!isIntersectionSupported) {\r\n  console.warn('[v-inview] Broswer is not compatible with InstersectionObserver api, callback will be called immediatetly')\r\n}\r\n\r\nconst intersectionOptions = {\r\n  root: null,\r\n  rootMargin: '0px 0px 0px 0px',\r\n  threshold: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]\r\n}\r\n\r\nconst Inview = {\r\n  observe (element, options = {}) {\r\n    let callback = null\r\n    let threshold = 0.2\r\n    let data = {}\r\n    if (typeof options === 'function') {\r\n      callback = options\r\n    } else if (typeof options.callback === 'function') {\r\n      callback = options.callback || null\r\n      threshold = options.threshold || threshold\r\n      data = options.data || {}\r\n    }\r\n    if (!callback) {\r\n      return\r\n    }\r\n    if (!isIntersectionSupported) {\r\n      callback(JSON.parse(JSON.stringify(data)))\r\n      return\r\n    }\r\n    let observer = new IntersectionObserver(function (entries) {\r\n      let isInview = Array.prototype.slice.call(entries)\r\n        .some(function (entry) {\r\n          if (entry.intersectionRatio > threshold) {\r\n            callback(JSON.parse(JSON.stringify(data)))\r\n            observer.unobserve(entry.target)\r\n            observer.disconnect()\r\n            return true\r\n          }\r\n        }, this)\r\n      if (isInview) {\r\n        element = null\r\n        options = null\r\n        observer = null\r\n      }\r\n    }, intersectionOptions)\r\n\r\n    let onLoadToObserve = function (event) {\r\n      window.removeEventListener('load', onLoadToObserve)\r\n      observer.observe(element)\r\n      onLoadToObserve = null\r\n    }\r\n    if (document.readyState !== 'complete') {\r\n      window.addEventListener('load', onLoadToObserve)\r\n    } else {\r\n      observer.observe(element)\r\n    }\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'inview',\r\n  bind (el, binding, vnode, oldVnode) {\r\n    // [bind hook]\r\n  },\r\n  inserted (el, binding, vnode, oldVnode) {\r\n    // [inserted hook]\r\n    Inview.observe(el, binding.value)\r\n  },\r\n  update (el, binding, vnode, oldVnode) {\r\n    // [update hook]\r\n  },\r\n  componentUpdated (el, binding, vnode, oldVnode) {\r\n    // [componentUpdated hook]\r\n  },\r\n  unbind (el, binding, vnode, oldVnode) {\r\n    // [unbind hook]\r\n  }\r\n}\r\n","const regexp = /(\\d)(?=(\\d{3})+(?!\\d))/g\r\n\r\nconst format = function (num) {\r\n  let point\r\n  num = num.toString()\r\n  point = num.lastIndexOf('.')\r\n  if (point < 0) {\r\n    return num.replace(regexp, '$1,')\r\n  }\r\n  return num.substr(0, point).replace(regexp, '$1,') + num.substr(point)\r\n}\r\n\r\nconst numeric = function (value) {\r\n  if (isNaN(value)) {\r\n    return value\r\n  }\r\n  return format(value)\r\n}\r\n\r\nexport default numeric\r\n","const format = function (num) {\r\n  num = Number(num * 100).toFixed(2)\r\n  return `${num}%`\r\n}\r\n\r\nconst percentage = function (value) {\r\n  if (isNaN(value)) {\r\n    return value\r\n  }\r\n  return format(value)\r\n}\r\n\r\nexport default percentage\r\n","import device from 'current-device'\r\nimport DetectInApp from 'detect-inapp'\r\nimport ga from './scripts/ga.js'\r\n\r\n// components\r\nimport TheUdnLogo from './components/TheUdnLogo'\r\nimport TheMenu from './components/TheMenu'\r\nimport SvgInlineResource from './components/SvgInlineResource'\r\nimport SvgSymbol from './components/SvgSymbol'\r\n\r\n// directives\r\nimport inview from './directives/inview'\r\nimport lockscroll from './directives/lockscroll'\r\n\r\n// filters\r\nimport numeric from './filters/numeric'\r\nimport percentage from './filters/percentage'\r\n\r\nconst version = 'v#{VERSION}'\r\n\r\nconst namespace = ''\r\n\r\nfunction registerComponents (Vue, components = []) {\r\n  components.forEach(component => Vue.component(`${namespace}${component.name}`, component))\r\n}\r\n\r\nfunction registerDirectives (Vue, directives = []) {\r\n  directives.forEach(directive => Vue.directive(`${namespace}${directive.name}`, directive))\r\n}\r\n\r\nfunction registerFilters (Vue, filters = []) {\r\n  filters.forEach(filter => Vue.filter(`${namespace}${filter.name}`, filter))\r\n}\r\n\r\nfunction install (Vue, options = {}) {\r\n  if (install.installed) {\r\n    return\r\n  }\r\n  install.installed = true\r\n  Vue.device = Vue.prototype.$device = device\r\n  Vue.inApp = Vue.prototype.$inApp = new DetectInApp(window.navigator.userAgent)\r\n  Vue.ga = Vue.prototype.$ga = ga\r\n  const { register = true } = options\r\n  if (register) {\r\n    registerComponents(Vue, [ TheUdnLogo, TheMenu, SvgInlineResource, SvgSymbol ])\r\n    registerDirectives(Vue, [ inview, lockscroll ])\r\n    registerFilters(Vue, [ numeric, percentage ])\r\n  }\r\n}\r\n\r\nconst plugin = {\r\n  version,\r\n  install,\r\n  // components\r\n  TheUdnLogo,\r\n  TheMenu,\r\n  SvgInlineResource,\r\n  SvgSymbol,\r\n  // directives\r\n  inview,\r\n  lockscroll,\r\n  // filters\r\n  numeric,\r\n  percentage\r\n}\r\n\r\n// auto install plugin in browser environment\r\nlet runtimeVue = null\r\nif (typeof window !== 'undefined') {\r\n  runtimeVue = window.Vue || null\r\n} else if (typeof global !== 'undefined') {\r\n  runtimeVue = global.Vue || null\r\n}\r\nif (runtimeVue) {\r\n  runtimeVue.use(plugin)\r\n}\r\n\r\n// export named\r\nexport {\r\n  version,\r\n  install,\r\n  // components\r\n  TheUdnLogo,\r\n  TheMenu,\r\n  SvgInlineResource,\r\n  SvgSymbol,\r\n  // directives\r\n  inview,\r\n  lockscroll,\r\n  // filters\r\n  numeric,\r\n  percentage\r\n}\r\n\r\n// export default\r\nexport default plugin\r\n"],"names":["const","let","format"],"mappings":"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"}