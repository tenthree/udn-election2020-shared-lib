/*!
 * udn-election2020-shared-lib v0.0.5
 * @license MIT
 * https://github.com/tenthree/udn-election2020-shared-lib
 */
var udnElection2020SharedLib=function(e,t,n){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n;var i=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n="production"!==process.env.NODE_ENV,i=n?"off":"on",o=e.map((function(e){return"object"==typeof e?"{ "+Object.keys(e).map((function(t){return t+": "+e[t]})).join(", ")+" }":e}));n||window.ga&&window.ga.apply(window,e),console.log("[GA "+i+"] ga("+o.join(", ")+")")};var o=function(e,t,n,i,o,s,r,a,l,d){"boolean"!=typeof r&&(l=a,a=r,r=!1);var c,h="function"==typeof n?n.options:n;if(e&&e.render&&(h.render=e.render,h.staticRenderFns=e.staticRenderFns,h._compiled=!0,o&&(h.functional=!0)),i&&(h._scopeId=i),s?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(s)},h._ssrRegister=c):t&&(c=r?function(){t.call(this,d(this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),c)if(h.functional){var u=h.render;h.render=function(e,t){return c.call(t),u(e,t)}}else{var v=h.beforeCreate;h.beforeCreate=v?[].concat(v,c):[c]}return n},s=o({render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"the-udn-logo"},[t("span",{staticClass:"the-udn-logo__text"},[this._v(this._s(this.title))]),t("a",{staticClass:"the-udn-logo__link",attrs:{href:this.link,title:this.title,target:this.target}},[t("i",{staticClass:"udn-icon udn-icon-logo",style:this.iconStyle})])])},staticRenderFns:[]},void 0,{name:"TheUdnLogo",props:{link:{type:String,default:"."},title:{type:String,default:"聯合報"},target:{type:String,default:"_blank"},color:{type:String,default:"#2E2E2E"}},computed:{iconStyle:function(){return{color:this.color}}}},void 0,!1,void 0,void 0,void 0),r=o({render:function(){var e=this.$createElement;return(this._self._c||e)("svg",{staticClass:"svg-inline-resource",attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"0",height:"0"}},[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"SvgInlineResource"},"data-v-7e994262",!1,void 0,void 0,void 0),a=o({render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"svg-symbol"},[t("svg",[t("g",[t("use",{attrs:{"xlink:href":this.use}})])])])},staticRenderFns:[]},void 0,{name:"SvgSymbol",props:{use:{typs:String,required:!0}}},void 0,!1,void 0,void 0,void 0),l=o({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"the-overlay"}},[e.isVisible?n("div",{staticClass:"the-overlay the-overlay-enter",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.onClick(t)}}}):e._e()])},staticRenderFns:[]},void 0,{name:"TheOverlay",props:{visible:Boolean},computed:{isVisible:function(){return this.visible}},methods:{onClick:function(){this.$emit("click")}}},void 0,!1,void 0,void 0,void 0),d=o({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"the-slide-menu"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.opened,expression:"opened"}],staticClass:"the-slide-menu"},[n("div",{staticClass:"the-slide-menu__head"},[n("div",{staticClass:"the-slide-menu__title"},[n("SvgSymbol",{staticClass:"the-slide-menu__title-bg",attrs:{use:"#slide-menu-title-bg"}}),e._v(" "),n("div",{staticClass:"the-slide-menu__title-text"},[e._v("看懂2020")])],1)]),e._v(" "),n("div",{staticClass:"the-slide-menu__body"},[n("ul",{staticClass:"the-slide-menu__link-list"},e._l(e.data,(function(t){return n("li",{key:""+t.project+t.title+t.url,staticClass:"the-slide-menu__link-item"},[n("a",{staticClass:"the-slide-menu__link-btn",class:{"the-slide-menu__link-btn--active":t.project===e.activeId},attrs:{href:t.url,title:t.title,target:t.project===e.activeId?"_self":"_blank"}},[n("span",{staticClass:"the-slide-menu__link-label"},[e._v(e._s(t.title))])])])})),0)])])])},staticRenderFns:[]},void 0,{name:"TheSlideMenu",components:{SvgSymbol:a},props:{activeId:{type:String,required:!0},opened:{type:Boolean,required:!0}},data:function(){return{xhr:null,data:[]}},methods:{onRequestStateChange:function(e){if(this.xhr.readyState===XMLHttpRequest.DONE){if(200!==this.xhr.status)return void console.warn("[TheSlideMenu] request failed. status code="+this.xhr.status+' text="'+this.xhr.statusText+'"');var t=[];try{t=JSON.parse(this.xhr.responseText)}catch(e){console.warn("[TheSlideMenu] request failed of JSON.parse error"),console.warn(e)}this.data=[].concat(t)}}},created:function(){this.xhr=new XMLHttpRequest,this.xhr.addEventListener("readystatechange",this.onRequestStateChange),this.xhr.open("GET","https://udn.com/newmedia/election2020/menu/menu.php"),this.xhr.send()},mounted:function(){}},void 0,!1,void 0,void 0,void 0),c=!1,h=0;function u(e){void 0===e&&(e=!0);var t=document.body;c!==e&&((c=e)?(h=window.pageYOffset,t.style.position="fixed",t.style.overflow="hidden",t.style.top=-h+"px",t.style.width="100%"):(t.style.position="",t.style.overflow="",t.style.top="",t.style.width="",window.scrollTo(0,h),h=0))}var v={name:"lockscroll",bind:function(e,t,n,i){u(t.value)},inserted:function(e,t,n,i){},update:function(e,t,n,i){},componentUpdated:function(e,t,n,i){u(t.value)},unbind:function(e,t,n,i){u(!1)}},p=o({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"lockscroll",rawName:"v-lockscroll",value:e.isSlideMenuOpened,expression:"isSlideMenuOpened"}],staticClass:"the-menu"},[n("SvgInlineResource",[n("symbol",{attrs:{id:"spinner",viewBox:"0 0 50 50"}},[n("g",[n("path",{attrs:{d:"M25.251 6.461c-10.318 0-18.683 8.365-18.683 18.683h4.068c0-8.071 6.543-14.615 14.615-14.615V6.461z"}},[n("animateTransform",{attrs:{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"0.4s",repeatCount:"indefinite"}})],1)])]),e._v(" "),n("symbol",{attrs:{id:"close",viewBox:"0 0 24 24"}},[n("g",[n("path",{attrs:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}}),e._v(" "),n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])]),e._v(" "),n("symbol",{attrs:{id:"clear",viewBox:"0 0 24 24"}},[n("g",[n("path",{attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}),e._v(" "),n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])]),e._v(" "),n("symbol",{attrs:{id:"info",viewBox:"0 0 24 24"}},[n("g",[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),e._v(" "),n("path",{attrs:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}})])]),e._v(" "),n("symbol",{attrs:{id:"hamburger",viewBox:"0 0 24 24"}},[n("g",[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),e._v(" "),n("path",{attrs:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}})])]),e._v(" "),n("symbol",{attrs:{id:"pdf",viewBox:"0 0 24 24"}},[n("g",[n("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),e._v(" "),n("path",{attrs:{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z"}})])]),e._v(" "),n("symbol",{attrs:{id:"facebook",viewBox:"0 0 63.5 63.5"}},[n("g",[n("path",{attrs:{d:"M34.07,46.75V33.07h4.6l.68-5.34H34.07v-3.4c0-1.55.43-2.6,2.65-2.6h2.82V17a36.38,36.38,0,0,0-4.11-.21c-4.08,0-6.87,2.49-6.87,7.05v3.93H24v5.34h4.6V46.75Z"}})])]),e._v(" "),n("symbol",{attrs:{id:"line",viewBox:"0 0 36 36.5"}},[n("g",[n("path",{attrs:{d:"M6.67,22.89h3.81a1,1,0,0,0,1-1v-.08a1,1,0,0,0-1-1H7.74V14.58a1,1,0,0,0-1-1H6.67a1,1,0,0,0-1,1V21.9A1,1,0,0,0,6.67,22.89ZM30.32,18.3v-.08a1,1,0,0,0-1-1H26.58V15.67h2.75a1,1,0,0,0,1-1V14.6a1,1,0,0,0-1-1H25.52a1,1,0,0,0-1,1v7.32a1,1,0,0,0,1,1h3.81a1,1,0,0,0,1-1v-.08a1,1,0,0,0-1-1H26.58V19.29h2.75a1,1,0,0,0,1-1ZM23,22.59h0a1,1,0,0,0,.28-.69V14.58a1,1,0,0,0-1-1H22.2a1,1,0,0,0-1,1v4.3l-3.57-4.79a1,1,0,0,0-.86-.5H16.7a1,1,0,0,0-1,1V21.9a1,1,0,0,0,1,1h.08a1,1,0,0,0,1-1V17.52l3.59,4.91.08.1h0a.75.75,0,0,0,.38.28,1,1,0,0,0,.38.08h.08a.93.93,0,0,0,.46-.12.55.55,0,0,0,.24-.18Zm-9.72.3h.08a1,1,0,0,0,1-1V14.58a1,1,0,0,0-1-1h-.08a1,1,0,0,0-1,1V21.9a1,1,0,0,0,1,1Z"}})])]),e._v(" "),n("symbol",{attrs:{id:"slide-menu-title-bg",viewBox:"0 0 159 38"}},[n("g",[n("path",{attrs:{fill:"#dddddd","fill-rule":"evenodd",d:"M12,6H141l18,32H12V6Z"}}),e._v(" "),n("path",{attrs:{fill:"#aaaaaa","fill-rule":"evenodd",d:"M0,0H129l18,32H0V0Z"}})])])]),e._v(" "),n("TheOverlay",{attrs:{visible:e.isSlideMenuOpened},on:{click:e.onOverlayClick}}),e._v(" "),n("TheSlideMenu",{attrs:{opened:e.isSlideMenuOpened,"active-id":e.projectId}}),e._v(" "),n("menu",{staticClass:"the-menu__list"},[n("menuitem",{staticClass:"the-menu__item the-menu__item--hamburger"},[n("button",{staticClass:"the-menu__btn the-menu__btn--hamburger",style:e.btnHamburgerStyle,attrs:{title:"選單"},on:{click:function(t){return t.preventDefault(),e.onHamburgerClick(t)}}},[n("div",{staticClass:"the-menu__icon the-menu__icon--hamburger",class:e.iconHamburgerClassName})])]),e._v(" "),n("menuitem",{staticClass:"the-menu__item the-menu__item--facebook"},[n("button",{staticClass:"the-menu__btn the-menu__btn--facebook",attrs:{title:"透過 Facebook 分享"},on:{click:function(t){return t.preventDefault(),e.onShareFacebook(t)}}},[n("SvgSymbol",{staticClass:"the-menu__icon the-menu__icon--facebook",attrs:{use:"#facebook"}})],1)]),e._v(" "),n("menuitem",{staticClass:"the-menu__item the-menu__item--line"},[n("a",{staticClass:"the-menu__btn the-menu__btn--line",attrs:{title:"透過 LINE 分享",target:e.lineSharedTarget,href:e.lineSharedUrl},on:{click:e.onShareToLine}},[n("SvgSymbol",{staticClass:"the-menu__icon the-menu__icon--line",attrs:{use:"#line"}})],1)])]),e._v(" "),n("small",{staticClass:"the-menu__title"},[e._v(e._s(e.title))])],1)},staticRenderFns:[]},void 0,{name:"TheMenu",components:{SvgInlineResource:r,SvgSymbol:a,TheOverlay:l,TheSlideMenu:d},directives:{lockscroll:v},props:{projectId:{type:String,required:!0},projectUrl:{type:String,required:!0},shareUrl:{type:String,default:""},shareText:{type:String,default:""},title:{type:String,default:""},hamburgerColor:{type:String}},data:function(){return{isMobile:this.$device.mobile(),isInApp:this.$inApp.isInApp,runtimeDomains:["udn.com","newmedia.udn.com.tw","localhost"],isHamburgerClicked:!1,isSlideMenuOpened:!1,socailSharedUrl:"",socailSharedText:""}},computed:{btnHamburgerStyle:function(){return this.hamburgerColor?{"background-color":this.hamburgerColor,border:"1px solid "+this.hamburgerColor}:{}},iconHamburgerClassName:function(){return{"the-menu__icon--hamburger-no-animation":!this.isHamburgerClicked,"the-menu__icon--hamburger-close":this.isSlideMenuOpened}},lineSharedUrl:function(){return this.isMobile?(this.isInApp,"https://line.naver.jp/R/msg/text/?"+encodeURIComponent(this.socailSharedText)+"%0D%0A"+encodeURIComponent(this.socailSharedUrl)):"https://social-plugins.line.me/lineit/share?text="+encodeURIComponent(this.socailSharedText)+"&url="+encodeURIComponent(this.socailSharedUrl)},lineSharedTarget:function(){return this.isMobile?"_self":"_blank"}},watch:{$route:{handler:function(e,t){this.updateSharedInfo()}}},methods:{onHamburgerClick:function(e){this.isHamburgerClicked=!0,this.isSlideMenuOpened=!this.isSlideMenuOpened,this.$ga("newmedia.send",{hitType:"event",eventCategory:"Menu",eventAction:"Click",eventLabel:"Click_Menu"}),console.log("@"+this.$options.name+" [hamburgerClick]")},onShareToLine:function(){console.log("@"+this.$options.name+" [shareToLine]",this.socailSharedUrl,this.socailSharedText),this.$ga("newmedia.send",{hitType:"event",eventCategory:"Share",eventAction:"Click",eventLabel:"Click_Line"})},onShareFacebook:function(){console.log("@"+this.$options.name+" [shareToFacebook]",this.socailSharedUrl,this.socailSharedText),this.$ga("newmedia.send",{hitType:"event",eventCategory:"Share",eventAction:"Click",eventLabel:"Click_FB"}),this.shareToFacebook(null)},onOverlayClick:function(){this.isSlideMenuOpened=!this.isSlideMenuOpened},updateSharedInfo:function(){var e=window.location,t=e.host,n=e.hostname,i=e.pathname,o=this.shareUrl,s=this.shareText;if(o)console.log("@"+this.$options.name+' [shared url] inferred from property "share-url"');else{if(this.$route&&this.$router&&"history"===this.$router.options.mode){if(console.log("@"+this.$options.name+' [shared url] inferred from "vue-router"'),o=""+this.projectUrl.replace(/\/$/,"")+this.$route.path,-1!==this.runtimeDomains.indexOf(n)){var r=o.replace(/^https?:\/\//,"").split("/");r.shift(),r.unshift(t),o="https://"+r.join("/")}}else-1!==this.runtimeDomains.indexOf(n)?(console.log("@"+this.$options.name+' [shared url] inferred from runtime "location"'),o="https://"+t+i):(console.log("@"+this.$options.name+' [shared url] inferred from property "project-url"'),o=this.projectUrl);s=document.title}this.socailSharedUrl=o,this.socailSharedText=s},shareToFacebook:function(e){void 0===e&&(e="");var t={method:"share",display:"popup",href:(e||this.socailSharedUrl).replace(/^http:\/\//,"https://")};window.FB&&window.FB.ui(t)}},mounted:function(){this.updateSharedInfo()}},void 0,!1,void 0,void 0,void 0),m=void 0!==window.IntersectionObserver;m||console.warn("[v-inview] Broswer is not compatible with InstersectionObserver api, callback will be called immediatetly");var f={root:null,rootMargin:"0px 0px 0px 0px",threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]},_=function(e,t){void 0===t&&(t={});var n=null,i=.2,o={};if("function"==typeof t?n=t:"function"==typeof t.callback&&(n=t.callback||null,i=t.threshold||i,o=t.data||{}),n)if(m){var s=new IntersectionObserver((function(r){Array.prototype.slice.call(r).some((function(e){if(e.intersectionRatio>i)return n(JSON.parse(JSON.stringify(o))),s.unobserve(e.target),s.disconnect(),!0}),this)&&(e=null,t=null,s=null)}),f),r=function(t){window.removeEventListener("load",r),s.observe(e),r=null};"complete"!==document.readyState?window.addEventListener("load",r):s.observe(e)}else n(JSON.parse(JSON.stringify(o)))},g={name:"inview",bind:function(e,t,n,i){},inserted:function(e,t,n,i){_(e,t.value)},update:function(e,t,n,i){},componentUpdated:function(e,t,n,i){},unbind:function(e,t,n,i){}},b=/(\d)(?=(\d{3})+(?!\d))/g,S=function(e){return isNaN(e)?e:(n=(t=(t=e).toString()).lastIndexOf("."))<0?t.replace(b,"$1,"):t.substr(0,n).replace(b,"$1,")+t.substr(n);var t,n},y=function(e){return isNaN(e)?e:(t=e,(t=Number(100*t).toFixed(2))+"%");var t},w="";function C(e,o){if(void 0===o&&(o={}),!C.installed){C.installed=!0,e.device=e.prototype.$device=t,e.inApp=e.prototype.$inApp=new n(window.navigator.userAgent),e.ga=e.prototype.$ga=i;var l=o.register;void 0===l&&(l=!0),l&&(function(e,t){void 0===t&&(t=[]),t.forEach((function(t){return e.component(""+w+t.name,t)}))}(e,[s,p,r,a]),function(e,t){void 0===t&&(t=[]),t.forEach((function(t){return e.directive(""+w+t.name,t)}))}(e,[g,v]),function(e,t){void 0===t&&(t=[]),t.forEach((function(t){return e.filter(""+w+t.name,t)}))}(e,[S,y]))}}var k={version:"v0.0.5",install:C,TheUdnLogo:s,TheMenu:p,SvgInlineResource:r,SvgSymbol:a,inview:g,lockscroll:v,numeric:S,percentage:y},x=null;return"undefined"!=typeof window?x=window.Vue||null:"undefined"!=typeof global&&(x=global.Vue||null),x&&x.use(k),e.SvgInlineResource=r,e.SvgSymbol=a,e.TheMenu=p,e.TheUdnLogo=s,e.default=k,e.install=C,e.inview=g,e.lockscroll=v,e.numeric=S,e.percentage=y,e.version="v0.0.5",e}({},device,inapp);
//# sourceMappingURL=udn-election2020-shared-lib.min.js.map
