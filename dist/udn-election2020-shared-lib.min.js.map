{"version":3,"file":"udn-election2020-shared-lib.min.js","sources":["../src/scripts/ga.js","../node_modules/vue-runtime-helpers/dist/normalize-component.js","../src/directives/lockscroll.js","../src/directives/inview.js","../src/filters/ellipsis.js","../src/filters/numeric.js","../src/filters/percentage.js","../src/lib.js"],"sourcesContent":["export const ga = function (...args) {\r\n  let debug = process.env.NODE_ENV !== 'production'\r\n  let status = !debug ? 'on' : 'off'\r\n  let params = args.map(arg => {\r\n    if (typeof arg === 'object') {\r\n      return '{ ' + Object.keys(arg).map(key => {\r\n        return `${key}: ${arg[key]}`\r\n      }).join(', ') + ' }'\r\n    }\r\n    return arg\r\n  })\r\n  if (!debug) {\r\n    window.ga && window.ga(...args)\r\n  }\r\n  console.log(`[GA ${status}] ga(${params.join(', ')})`)\r\n}\r\n\r\nexport default ga\r\n","'use strict';\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier\n/* server only */\n, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\n  if (typeof shadowMode !== 'boolean') {\n    createInjectorSSR = createInjector;\n    createInjector = shadowMode;\n    shadowMode = false;\n  } // Vue.extend constructor export interop.\n\n\n  var options = typeof script === 'function' ? script.options : script; // render functions\n\n  if (template && template.render) {\n    options.render = template.render;\n    options.staticRenderFns = template.staticRenderFns;\n    options._compiled = true; // functional template\n\n    if (isFunctionalTemplate) {\n      options.functional = true;\n    }\n  } // scopedId\n\n\n  if (scopeId) {\n    options._scopeId = scopeId;\n  }\n\n  var hook;\n\n  if (moduleIdentifier) {\n    // server build\n    hook = function hook(context) {\n      // 2.3 injection\n      context = context || // cached call\n      this.$vnode && this.$vnode.ssrContext || // stateful\n      this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext; // functional\n      // 2.2 with runInNewContext: true\n\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__;\n      } // inject component styles\n\n\n      if (style) {\n        style.call(this, createInjectorSSR(context));\n      } // register component module identifier for async chunk inference\n\n\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier);\n      }\n    }; // used by ssr in case component is cached and beforeCreate\n    // never gets called\n\n\n    options._ssrRegister = hook;\n  } else if (style) {\n    hook = shadowMode ? function () {\n      style.call(this, createInjectorShadow(this.$root.$options.shadowRoot));\n    } : function (context) {\n      style.call(this, createInjector(context));\n    };\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // register for functional component in vue file\n      var originalRender = options.render;\n\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context);\n        return originalRender(h, context);\n      };\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate;\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\n    }\n  }\n\n  return script;\n}\n\nmodule.exports = normalizeComponent;\n//# sourceMappingURL=normalize-component.js.map\n","let isLocked = false\r\nlet pageYOffsetBeforeLocked = 0\r\n\r\nfunction lockScroll (bool = true) {\r\n  let body = document.body\r\n  if (isLocked === bool) {\r\n    return\r\n  }\r\n  isLocked = bool\r\n  if (!isLocked) {\r\n    body.style.position = ''\r\n    body.style.overflow = ''\r\n    body.style.top = ''\r\n    body.style.width = ''\r\n    window.scrollTo(0, pageYOffsetBeforeLocked)\r\n    pageYOffsetBeforeLocked = 0\r\n  } else {\r\n    pageYOffsetBeforeLocked = window.pageYOffset\r\n    body.style.position = 'fixed'\r\n    body.style.overflow = 'hidden'\r\n    body.style.top = `${-pageYOffsetBeforeLocked}px`\r\n    body.style.width = '100%'\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'lockscroll',\r\n  bind (el, binding, vnode, oldVnode) {\r\n    // [bind hook]\r\n    lockScroll(binding.value)\r\n  },\r\n  inserted (el, binding, vnode, oldVnode) {\r\n    // [inserted hook]\r\n  },\r\n  update (el, binding, vnode, oldVnode) {\r\n    // [update hook]\r\n  },\r\n  componentUpdated (el, binding, vnode, oldVnode) {\r\n    // [componentUpdated hook]\r\n    lockScroll(binding.value)\r\n  },\r\n  unbind (el, binding, vnode, oldVnode) {\r\n    // [unbind hook]\r\n    lockScroll(false)\r\n  }\r\n}\r\n","const isIntersectionSupported = typeof window.IntersectionObserver !== 'undefined'\r\nif (!isIntersectionSupported) {\r\n  console.warn('[v-inview] Broswer is not compatible with InstersectionObserver api, callback will be called immediatetly')\r\n}\r\n\r\nconst intersectionOptions = {\r\n  root: null,\r\n  rootMargin: '0px 0px 0px 0px',\r\n  threshold: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]\r\n}\r\n\r\nconst Inview = {\r\n  observe (element, options = {}) {\r\n    let callback = null\r\n    let threshold = 0.2\r\n    let data = {}\r\n    if (typeof options === 'function') {\r\n      callback = options\r\n    } else if (typeof options.callback === 'function') {\r\n      callback = options.callback || null\r\n      threshold = options.threshold || threshold\r\n      data = options.data || {}\r\n    }\r\n    if (!callback) {\r\n      return\r\n    }\r\n    if (!isIntersectionSupported) {\r\n      callback(JSON.parse(JSON.stringify(data)))\r\n      return\r\n    }\r\n    let observer = new IntersectionObserver(function (entries) {\r\n      let isInview = Array.prototype.slice.call(entries)\r\n        .some(function (entry) {\r\n          if (entry.intersectionRatio > threshold) {\r\n            callback(JSON.parse(JSON.stringify(data)))\r\n            observer.unobserve(entry.target)\r\n            observer.disconnect()\r\n            return true\r\n          }\r\n        }, this)\r\n      if (isInview) {\r\n        element = null\r\n        options = null\r\n        observer = null\r\n      }\r\n    }, intersectionOptions)\r\n\r\n    let onLoadToObserve = function (event) {\r\n      window.removeEventListener('load', onLoadToObserve)\r\n      observer.observe(element)\r\n      onLoadToObserve = null\r\n    }\r\n    if (document.readyState !== 'complete') {\r\n      window.addEventListener('load', onLoadToObserve)\r\n    } else {\r\n      observer.observe(element)\r\n    }\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'inview',\r\n  bind (el, binding, vnode, oldVnode) {\r\n    // [bind hook]\r\n  },\r\n  inserted (el, binding, vnode, oldVnode) {\r\n    // [inserted hook]\r\n    Inview.observe(el, binding.value)\r\n  },\r\n  update (el, binding, vnode, oldVnode) {\r\n    // [update hook]\r\n  },\r\n  componentUpdated (el, binding, vnode, oldVnode) {\r\n    // [componentUpdated hook]\r\n  },\r\n  unbind (el, binding, vnode, oldVnode) {\r\n    // [unbind hook]\r\n  }\r\n}\r\n","export const ellipsis = function (text, maxLen = 95) {\r\n  let len = text.length\r\n  if (len > maxLen) {\r\n    return `${text.slice(0, maxLen)}...`\r\n  }\r\n  return text\r\n}\r\n\r\nellipsis.name = 'ellipsis'\r\n\r\nexport default ellipsis\r\n","const regexp = /(\\d)(?=(\\d{3})+(?!\\d))/g\r\n\r\nconst format = function (num) {\r\n  let point\r\n  num = num.toString()\r\n  point = num.lastIndexOf('.')\r\n  if (point < 0) {\r\n    return num.replace(regexp, '$1,')\r\n  }\r\n  return num.substr(0, point).replace(regexp, '$1,') + num.substr(point)\r\n}\r\n\r\nconst numeric = function (value) {\r\n  if (isNaN(value)) {\r\n    return value\r\n  }\r\n  return format(value)\r\n}\r\n\r\nnumeric.name = 'numeric'\r\n\r\nexport default numeric\r\n","const format = function (num) {\r\n  num = Number(num * 100).toFixed(2)\r\n  return `${num}%`\r\n}\r\n\r\nconst percentage = function (value) {\r\n  if (isNaN(value)) {\r\n    return value\r\n  }\r\n  return format(value)\r\n}\r\n\r\npercentage.name = 'percentage'\r\n\r\nexport default percentage\r\n","import device from 'current-device'\r\nimport DetectInApp from 'detect-inapp'\r\nimport ga from './scripts/ga.js'\r\n\r\n// components\r\nimport TheUdnLogo from './components/TheUdnLogo'\r\nimport TheMenu from './components/TheMenu'\r\nimport SvgInlineResource from './components/SvgInlineResource'\r\nimport SvgSymbol from './components/SvgSymbol'\r\n\r\n// directives\r\nimport inview from './directives/inview'\r\nimport lockscroll from './directives/lockscroll'\r\n\r\n// filters\r\nimport ellipsis from './filters/ellipsis'\r\nimport numeric from './filters/numeric'\r\nimport percentage from './filters/percentage'\r\n\r\nconst version = 'v#{VERSION}'\r\n\r\nconst namespace = ''\r\n\r\nfunction registerComponents (Vue, components = []) {\r\n  components.forEach(component => Vue.component(`${namespace}${component.name}`, component))\r\n}\r\n\r\nfunction registerDirectives (Vue, directives = []) {\r\n  directives.forEach(directive => Vue.directive(`${namespace}${directive.name}`, directive))\r\n}\r\n\r\nfunction registerFilters (Vue, filters = []) {\r\n  filters.forEach(filter => Vue.filter(`${namespace}${filter.name}`, filter))\r\n}\r\n\r\nfunction install (Vue, options = {}) {\r\n  if (install.installed) {\r\n    return\r\n  }\r\n  install.installed = true\r\n  Vue.device = Vue.prototype.$device = device\r\n  Vue.inApp = Vue.prototype.$inApp = new DetectInApp(window.navigator.userAgent)\r\n  Vue.ga = Vue.prototype.$ga = ga\r\n  const { register = true } = options\r\n  if (register) {\r\n    registerComponents(Vue, [ TheUdnLogo, TheMenu, SvgInlineResource, SvgSymbol ])\r\n    registerDirectives(Vue, [ inview, lockscroll ])\r\n    registerFilters(Vue, [ ellipsis, numeric, percentage ])\r\n  }\r\n}\r\n\r\nconst plugin = {\r\n  version,\r\n  install,\r\n  // components\r\n  TheUdnLogo,\r\n  TheMenu,\r\n  SvgInlineResource,\r\n  SvgSymbol,\r\n  // directives\r\n  inview,\r\n  lockscroll,\r\n  // filters\r\n  numeric,\r\n  percentage\r\n}\r\n\r\n// auto install plugin in browser environment\r\nlet runtimeVue = null\r\nif (typeof window !== 'undefined') {\r\n  runtimeVue = window.Vue || null\r\n} else if (typeof global !== 'undefined') {\r\n  runtimeVue = global.Vue || null\r\n}\r\nif (runtimeVue) {\r\n  runtimeVue.use(plugin)\r\n}\r\n\r\n// export named\r\nexport {\r\n  version,\r\n  install,\r\n  // components\r\n  TheUdnLogo,\r\n  TheMenu,\r\n  SvgInlineResource,\r\n  SvgSymbol,\r\n  // directives\r\n  inview,\r\n  lockscroll,\r\n  // filters\r\n  numeric,\r\n  percentage\r\n}\r\n\r\n// export default\r\nexport default plugin\r\n"],"names":["const","ga","let","debug","process","env","NODE_ENV","status","params","args","map","arg","Object","keys","key","join","window","console","log","template","style","script","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","hook","options","render","staticRenderFns","_compiled","functional","_scopeId","context","this","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","originalRender","h","existing","beforeCreate","concat","isLocked","pageYOffsetBeforeLocked","lockScroll","bool","body","document","pageYOffset","position","overflow","top","width","scrollTo","name","bind","el","binding","vnode","oldVnode","value","inserted","update","componentUpdated","unbind","isIntersectionSupported","IntersectionObserver","warn","intersectionOptions","root","rootMargin","threshold","Inview","element","callback","data","observer","entries","Array","prototype","slice","some","entry","intersectionRatio","JSON","parse","stringify","unobserve","target","disconnect","onLoadToObserve","event","removeEventListener","observe","readyState","addEventListener","ellipsis","text","maxLen","length","regexp","numeric","isNaN","point","num","toString","lastIndexOf","replace","substr","percentage","Number","toFixed","namespace","install","Vue","installed","device","$device","inApp","$inApp","DetectInApp","navigator","userAgent","$ga","register","components","forEach","component","registerComponents","TheUdnLogo","TheMenu","SvgInlineResource","SvgSymbol","directives","directive","registerDirectives","inview","lockscroll","filters","filter","registerFilters","plugin","runtimeVue","global","use"],"mappings":"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"}